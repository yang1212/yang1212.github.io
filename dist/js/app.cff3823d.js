(function(){"use strict";var e={5238:function(e,t,n){var o=n(2856),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],a={name:"App",components:{}},s=a,l=n(1656),c=(0,l.A)(s,i,r,!1,null,null,null),u=c.exports,m=n(1594),d=function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"page-title"},[e._v("文本录入")]),t("div",{staticClass:"page-box"},[t("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,inline:!0,"label-width":"120px"}},[t("div",{staticClass:"form-upload"},[t("p",{staticClass:"form-upload-p"},[e._v("1、背景图片上传")]),t("el-upload",{staticClass:"form-upload-cell",attrs:{action:"",limit:1,"before-upload":e.beforeUpload,"on-change":e.handleChange,"on-success":e.handleSuccess,"file-list":e.fileList,"auto-upload":!1,"list-type":"picture-card"}},[t("i",{staticClass:"el-icon-plus"})])],1),t("p",{staticClass:"form-content-p"},[e._v("2、内容录入")]),e._l(e.dynamicValidateForm.formList,(function(n,o){return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGenerate,expression:"!showGenerate"}],key:n.key,staticClass:"form-item"},[t("el-form-item",{staticClass:"form-title",attrs:{label:0===o?"首屏(主标题)":`标题${o}`,prop:"formList."+o+".title",rules:{required:!0,message:"标题不能为空",trigger:"blur"}}},[t("el-input",{model:{value:n.title,callback:function(t){e.$set(n,"title",t)},expression:"item.title"}})],1),t("el-form-item",{staticClass:"form-content",attrs:{label:0===o?"首屏(子标题)":`内容${o}`,prop:"formList."+o+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[t(0===o?"el-input":"vue-editor",{model:{value:n.content,callback:function(t){e.$set(n,"content",t)},expression:"item.content"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:1!==e.dynamicValidateForm.formList.length,expression:"dynamicValidateForm.formList.length !== 1"}],on:{click:function(t){return t.preventDefault(),e.removecontent(o)}}},[e._v("删除")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.dynamicValidateForm.formList.length-1===o,expression:"dynamicValidateForm.formList.length - 1 === index"}],on:{click:e.addcontent}},[e._v("新增")])],1)],1)})),t("div",{staticClass:"btn-group"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showGenerate,expression:"!showGenerate"}],on:{click:function(t){return e.resetForm("dynamicValidateForm")}}},[e._v("重置")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showGenerate,expression:"!showGenerate"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dynamicValidateForm")}}},[e._v("一键生成")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showGenerate,expression:"showGenerate"}],on:{click:function(t){e.showGenerate=!1}}},[e._v("返回")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showGenerate,expression:"showGenerate"}],attrs:{type:"primary"},on:{click:e.generateAndDownloadZip}},[e._v("一键导出")])],1)],2)],1),t("br"),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showGenerate,expression:"showGenerate"}],staticClass:"img-box"},e._l(e.list,(function(n,o){return t("div",{key:o,ref:"items",refInFor:!0,staticClass:"item"},[t("div",{staticClass:"item-content"},[t("div",{staticClass:"cell-p"},[t("p",{class:0===o?"title-0":"title"},[e._v(e._s(n.title))]),t("p",{class:0===o?"info-0":"info",domProps:{innerHTML:e._s(n.content)}})])])])})),0),e._m(0)])},f=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"text-align":"center"}},[t("a",{staticStyle:{color:"#98a3b7",position:"fixed",bottom:"0",padding:"10px 0"},attrs:{href:"https://beian.miit.gov.cn/#/Integrated/index"}},[e._v("湘ICP备2024078658号-1")])])}],p=(n(4114),n(4533)),h=n.n(p),v=n(9125),w=n.n(v),g=n(3580),y=n(4598),b={name:"HomePage",components:{VueEditor:y.aZ},data(){return{list:[{title:"主标题",content:"我是子标题"},{title:"主标题",content:"我是子标题"}],showGenerate:!1,dynamicValidateForm:{formList:[{title:"",content:""}]},fileList:[]}},created(){},mounted(){},methods:{beforeUpload(e){const t=e.type.startsWith("image/");return!!t||(this.$message.error("只能上传图片文件"),!1)},handleChange(e){this.fileList=[e]},handleSuccess(e){this.imageUrl=`${e.url}?t=${(new Date).getTime()}`},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.showGenerate=!0,this.list=this.dynamicValidateForm.formList,console.log(this.dynamicValidateForm.formList)}))},resetForm(e){this.$refs[e].resetFields(),this.dynamicValidateForm.formList=[{title:"",content:""}]},removecontent(e){this.dynamicValidateForm.formList.splice(e,1)},addcontent(){this.dynamicValidateForm.formList.push({title:"",content:"",key:`content-${Date.now()}`})},async generateAndDownloadZip(){const e=this.$refs.items,t=new(w()),n=t.folder("素材");for(let i=0;i<e.length;i++){const t=e[i];try{const e=await h()(t,{scale:2,useCORS:!0,logging:!0}),o=e.toDataURL("image/png"),r=o.split(",")[1];n.file(`素材-${i+1}.png`,r,{base64:!0})}catch(o){console.error("oops, something went wrong!",o)}}t.generateAsync({type:"blob"}).then((e=>{(0,g.saveAs)(e,"素材.zip")}))}}},_=b,x=(0,l.A)(_,d,f,!1,null,"78ded698",null),C=x.exports,F=function(){var e=this;e._self._c;return e._m(0)},L=[function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("About")])])}],k={name:"HomePage"},V=k,G=(0,l.A)(V,F,L,!1,null,null,null),O=G.exports;o["default"].use(m.Ay);var $=new m.Ay({mode:"history",routes:[{path:"/",name:"HomePage",component:C},{path:"/about",name:"AboutPage",component:O}]}),A=n(4927),P=n.n(A);o["default"].config.productionTip=!1,o["default"].use(P()),new o["default"]({router:$,render:e=>e(u)}).$mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],i=e[u][1],r=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var u=l(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkyf_tool"]=self["webpackChunkyf_tool"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(5238)}));o=n.O(o)})();
//# sourceMappingURL=app.cff3823d.js.map